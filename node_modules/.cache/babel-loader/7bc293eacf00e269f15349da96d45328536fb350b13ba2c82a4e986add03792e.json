{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"my-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex space-x-2 mb-4\"\n};\nconst _hoisted_3 = {\n  ref: \"chartRef\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.filterByClient('Varga Viktória')),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded\"\n  }, \"Varga Viktória\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.filterByProject('Project A')),\n    class: \"px-4 py-2 bg-green-500 text-white rounded\"\n  }, \"Project A\"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.resetFilter && $setup.resetFilter(...args)),\n    class: \"px-4 py-2 bg-gray-500 text-white rounded\"\n  }, \"Reset\")]), _createElementVNode(\"canvas\", _hoisted_3, null, 512 /* NEED_PATCH */)]);\n}","map":{"version":3,"names":["class","ref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","$event","$setup","filterByClient","filterByProject","args","resetFilter","_hoisted_3"],"sources":["/Users/vasadidavid/Desktop/motibro/my-time-tracker/src/components/MyStatistics.vue"],"sourcesContent":["<template>\n  <div class=\"my-4\">\n    <div class=\"flex space-x-2 mb-4\">\n      <button @click=\"filterByClient('Varga Viktória')\" class=\"px-4 py-2 bg-blue-500 text-white rounded\">Varga Viktória</button>\n      <button @click=\"filterByProject('Project A')\" class=\"px-4 py-2 bg-green-500 text-white rounded\">Project A</button>\n      <button @click=\"resetFilter\" class=\"px-4 py-2 bg-gray-500 text-white rounded\">Reset</button>\n    </div>\n    <canvas ref=\"chartRef\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, watch } from 'vue';\nimport { Chart } from 'chart.js';\n\nexport default {\n  name: 'MyStatistics',\n  props: {\n    entries: {\n      type: Array,\n      required: true,\n    },\n  },\n  setup(props) {\n    const chartRef = ref(null);\n    const myChart = ref(null);\n    const filteredEntries = ref(props.entries); // kezdő állapot a props alapján\n\n    // Funkció a diagram létrehozására\n    const createChart = () => {\n      const ctx = chartRef.value?.getContext('2d'); // Canvas kontextus elérése\n      if (!ctx) {\n        console.error(\"Canvas context is not available.\");\n        return; // Ha a ctx null, ne folytasd\n      }\n\n      // Ha a diagram már létezik, töröld\n      if (myChart.value) {\n        myChart.value.destroy();\n      }\n\n      myChart.value = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: Object.keys(filteredEntries.value),\n          datasets: [\n            {\n              label: 'Total Entries',\n              data: Object.values(filteredEntries.value).map(arr => arr.length),\n              backgroundColor: 'rgba(75, 192, 192, 0.6)',\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true,\n            },\n          },\n        },\n      });\n    };\n\n    // Filter funkciók\n    const filterByClient = (client) => {\n      filteredEntries.value = props.entries.filter(entry => entry.client === client);\n      createChart(); // Hívás a diagram frissítésére\n    };\n\n    const filterByProject = (project) => {\n      filteredEntries.value = props.entries.filter(entry => entry.project === project);\n      createChart(); // Hívás a diagram frissítésére\n    };\n\n    const resetFilter = () => {\n      filteredEntries.value = props.entries; // Visszaállítás az alapértelmezett adatokra\n      createChart(); // Hívás a diagram frissítésére\n    };\n\n    // Montáláskor diagram létrehozása\n    onMounted(() => {\n      createChart();\n    });\n\n    // Watcher, hogy új bejegyzéseknél frissítse a diagramot\n    watch(() => props.entries, (newEntries) => {\n      filteredEntries.value = newEntries; // Frissítjük a szűrt bejegyzéseket\n      createChart(); // Új diagram létrehozása\n    });\n\n    return {\n      chartRef,\n      filterByClient,\n      filterByProject,\n      resetFilter,\n    };\n  },\n};\n</script>\n\n<style scoped>\n/* További stílusok, ha szükséges */\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAqB;;EAKxBC,GAAG,EAAC;AAAU;;uBANxBC,mBAAA,CAOM,OAPNC,UAOM,GANJC,mBAAA,CAIM,OAJNC,UAIM,GAHJD,mBAAA,CAA0H;IAAjHE,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,MAAA,CAAAC,cAAc;IAAoBV,KAAK,EAAC;KAA2C,gBAAc,GACjHI,mBAAA,CAAkH;IAAzGE,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,MAAA,CAAAE,eAAe;IAAeX,KAAK,EAAC;KAA4C,WAAS,GACzGI,mBAAA,CAA4F;IAAnFE,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEH,MAAA,CAAAI,WAAA,IAAAJ,MAAA,CAAAI,WAAA,IAAAD,IAAA,CAAW;IAAEZ,KAAK,EAAC;KAA2C,OAAK,E,GAErFI,mBAAA,CAAgC,UAAhCU,UAAgC,8B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}