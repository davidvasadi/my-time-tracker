{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"my-statistics\"\n};\nconst _hoisted_2 = {\n  ref: \"myChart\"\n};\nconst _hoisted_3 = {\n  class: \"buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"canvas\", _hoisted_2, null, 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.filterByProject('Project A'))\n  }, \"Project A\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.filterByProject('Project B'))\n  }, \"Project B\"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.resetFilter && $setup.resetFilter(...args))\n  }, \"Reset\")])]);\n}","map":{"version":3,"names":["class","ref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","$event","$setup","filterByProject","args","resetFilter"],"sources":["/Users/vasadidavid/Desktop/motibro/my-time-tracker/src/components/MyStatistics.vue"],"sourcesContent":["<template>\n  <div class=\"my-statistics\">\n    <canvas ref=\"myChart\"></canvas>\n    <div class=\"buttons\">\n      <button @click=\"filterByProject('Project A')\">Project A</button>\n      <button @click=\"filterByProject('Project B')\">Project B</button>\n      <button @click=\"resetFilter\">Reset</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, onMounted } from 'vue';\nimport { Chart, registerables } from 'chart.js';\n\nChart.register(...registerables);\n\nexport default {\n  props: {\n    entries: {\n      type: Array,\n      required: true\n    }\n  },\n  setup(props) {\n    const myChart = ref(null);\n    const chartInstance = ref(null);\n    const filteredEntries = ref(props.entries);\n\n    const createChart = () => {\n      const ctx = myChart.value.getContext('2d');\n      if (chartInstance.value) {\n        chartInstance.value.destroy(); // Destroy the old chart before creating a new one\n      }\n\n      chartInstance.value = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: ['Project A', 'Project B'], // Sample labels\n          datasets: [{\n            label: 'Hours Worked',\n            data: [\n              filteredEntries.value.filter(entry => entry.project === 'Project A').length,\n              filteredEntries.value.filter(entry => entry.project === 'Project B').length\n            ],\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            borderColor: 'rgba(75, 192, 192, 1)',\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n    };\n\n    const filterByProject = (project) => {\n      filteredEntries.value = props.entries.filter(entry => entry.project === project);\n      createChart();\n    };\n\n    const resetFilter = () => {\n      filteredEntries.value = props.entries;\n      createChart();\n    };\n\n    watch(() => props.entries, (newEntries) => {\n      filteredEntries.value = newEntries;\n      createChart();\n    });\n\n    onMounted(() => {\n      createChart();\n    });\n\n    return {\n      myChart,\n      filterByProject,\n      resetFilter\n    };\n  }\n};\n</script>\n\n<style scoped>\n.my-statistics {\n  max-width: 600px;\n  margin: auto;\n}\n.buttons {\n  margin-top: 20px;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAChBC,GAAG,EAAC;AAAS;;EAChBD,KAAK,EAAC;AAAS;;uBAFtBE,mBAAA,CAOM,OAPNC,UAOM,GANJC,mBAAA,CAA+B,UAA/BC,UAA+B,+BAC/BD,mBAAA,CAIM,OAJNE,UAIM,GAHJF,mBAAA,CAAgE;IAAvDG,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,MAAA,CAAAC,eAAe;KAAe,WAAS,GACvDP,mBAAA,CAAgE;IAAvDG,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,MAAA,CAAAC,eAAe;KAAe,WAAS,GACvDP,mBAAA,CAA2C;IAAlCG,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAI,IAAA,KAAEF,MAAA,CAAAG,WAAA,IAAAH,MAAA,CAAAG,WAAA,IAAAD,IAAA,CAAW;KAAE,OAAK,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}