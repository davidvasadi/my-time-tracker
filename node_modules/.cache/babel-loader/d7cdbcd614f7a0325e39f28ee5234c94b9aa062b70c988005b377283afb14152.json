{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport { ref, watch, onMounted, onBeforeUnmount } from 'vue';\nimport { Chart, registerables } from 'chart.js';\nChart.register(...registerables);\nexport default {\n  props: {\n    entries: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const chartRef = ref(null);\n    const myChart = ref(null);\n    const filteredEntries = ref(props.entries);\n    const createChart = () => {\n      const ctx = chartRef.value.getContext('2d');\n      if (myChart.value) {\n        myChart.value.destroy();\n      }\n      myChart.value = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: Object.keys(filteredEntries.value),\n          datasets: [{\n            label: 'Total Entries',\n            data: Object.values(filteredEntries.value).map(arr => arr.length),\n            backgroundColor: 'rgba(75, 192, 192, 0.6)'\n          }]\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n    };\n    const filterByClient = clientName => {\n      filteredEntries.value = {\n        [clientName]: props.entries[clientName] || []\n      };\n      createChart();\n    };\n    const filterByProject = projectName => {\n      filteredEntries.value = Object.fromEntries(Object.entries(props.entries).filter(([, projects]) => projects.some(project => project.name === projectName)));\n      createChart();\n    };\n    const resetFilter = () => {\n      filteredEntries.value = props.entries;\n      createChart();\n    };\n    watch(() => props.entries, () => {\n      filteredEntries.value = props.entries;\n      createChart();\n    });\n    onMounted(() => {\n      createChart();\n    });\n    onBeforeUnmount(() => {\n      if (myChart.value) {\n        myChart.value.destroy();\n      }\n    });\n    return {\n      chartRef,\n      filterByClient,\n      filterByProject,\n      resetFilter\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","onMounted","onBeforeUnmount","Chart","registerables","register","props","entries","type","Object","required","setup","chartRef","myChart","filteredEntries","createChart","ctx","value","getContext","destroy","data","labels","keys","datasets","label","values","map","arr","length","backgroundColor","options","responsive","scales","y","beginAtZero","filterByClient","clientName","filterByProject","projectName","fromEntries","filter","projects","some","project","name","resetFilter"],"sources":["/Users/vasadidavid/Desktop/motibro/my-time-tracker/src/components/MyStatistics.vue"],"sourcesContent":["<template>\n  <div class=\"my-4\">\n    <div>\n      <button @click=\"filterByClient('Varga Viktória')\">Varga Viktória</button>\n      <button @click=\"filterByProject('Project A')\">Project A</button>\n      <button @click=\"resetFilter\">Reset</button>\n    </div>\n    <canvas ref=\"myChart\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, onMounted, onBeforeUnmount } from 'vue';\nimport { Chart, registerables } from 'chart.js';\n\nChart.register(...registerables);\n\nexport default {\n  props: {\n    entries: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const chartRef = ref(null);\n    const myChart = ref(null);\n    const filteredEntries = ref(props.entries);\n\n    const createChart = () => {\n      const ctx = chartRef.value.getContext('2d');\n      if (myChart.value) {\n        myChart.value.destroy();\n      }\n      myChart.value = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: Object.keys(filteredEntries.value),\n          datasets: [\n            {\n              label: 'Total Entries',\n              data: Object.values(filteredEntries.value).map(arr => arr.length),\n              backgroundColor: 'rgba(75, 192, 192, 0.6)',\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true,\n            },\n          },\n        },\n      });\n    };\n\n    const filterByClient = (clientName) => {\n      filteredEntries.value = {\n        [clientName]: props.entries[clientName] || [],\n      };\n      createChart();\n    };\n\n    const filterByProject = (projectName) => {\n      filteredEntries.value = Object.fromEntries(\n        Object.entries(props.entries).filter(\n          ([, projects]) => projects.some(project => project.name === projectName)\n        )\n      );\n      createChart();\n    };\n\n    const resetFilter = () => {\n      filteredEntries.value = props.entries;\n      createChart();\n    };\n\n    watch(() => props.entries, () => {\n      filteredEntries.value = props.entries;\n      createChart();\n    });\n\n    onMounted(() => {\n      createChart();\n    });\n\n    onBeforeUnmount(() => {\n      if (myChart.value) {\n        myChart.value.destroy();\n      }\n    });\n\n    return {\n      chartRef,\n      filterByClient,\n      filterByProject,\n      resetFilter,\n    };\n  },\n};\n</script>\n\n<style scoped>\n/* Add any custom styles you want here */\n</style>\n"],"mappings":";;;;AAYA,SAASA,GAAG,EAAEC,KAAK,EAAEC,SAAS,EAAEC,eAAc,QAAS,KAAK;AAC5D,SAASC,KAAK,EAAEC,aAAY,QAAS,UAAU;AAE/CD,KAAK,CAACE,QAAQ,CAAC,GAAGD,aAAa,CAAC;AAEhC,eAAe;EACbE,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,MAAMM,QAAO,GAAIb,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAMc,OAAM,GAAId,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMe,eAAc,GAAIf,GAAG,CAACO,KAAK,CAACC,OAAO,CAAC;IAE1C,MAAMQ,WAAU,GAAIA,CAAA,KAAM;MACxB,MAAMC,GAAE,GAAIJ,QAAQ,CAACK,KAAK,CAACC,UAAU,CAAC,IAAI,CAAC;MAC3C,IAAIL,OAAO,CAACI,KAAK,EAAE;QACjBJ,OAAO,CAACI,KAAK,CAACE,OAAO,CAAC,CAAC;MACzB;MACAN,OAAO,CAACI,KAAI,GAAI,IAAId,KAAK,CAACa,GAAG,EAAE;QAC7BR,IAAI,EAAE,KAAK;QACXY,IAAI,EAAE;UACJC,MAAM,EAAEZ,MAAM,CAACa,IAAI,CAACR,eAAe,CAACG,KAAK,CAAC;UAC1CM,QAAQ,EAAE,CACR;YACEC,KAAK,EAAE,eAAe;YACtBJ,IAAI,EAAEX,MAAM,CAACgB,MAAM,CAACX,eAAe,CAACG,KAAK,CAAC,CAACS,GAAG,CAACC,GAAE,IAAKA,GAAG,CAACC,MAAM,CAAC;YACjEC,eAAe,EAAE;UACnB,CAAC;QAEL,CAAC;QACDC,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBC,MAAM,EAAE;YACNC,CAAC,EAAE;cACDC,WAAW,EAAE;YACf;UACF;QACF;MACF,CAAC,CAAC;IACJ,CAAC;IAED,MAAMC,cAAa,GAAKC,UAAU,IAAK;MACrCtB,eAAe,CAACG,KAAI,GAAI;QACtB,CAACmB,UAAU,GAAG9B,KAAK,CAACC,OAAO,CAAC6B,UAAU,KAAK;MAC7C,CAAC;MACDrB,WAAW,CAAC,CAAC;IACf,CAAC;IAED,MAAMsB,eAAc,GAAKC,WAAW,IAAK;MACvCxB,eAAe,CAACG,KAAI,GAAIR,MAAM,CAAC8B,WAAW,CACxC9B,MAAM,CAACF,OAAO,CAACD,KAAK,CAACC,OAAO,CAAC,CAACiC,MAAM,CAClC,CAAC,GAAGC,QAAQ,CAAC,KAAKA,QAAQ,CAACC,IAAI,CAACC,OAAM,IAAKA,OAAO,CAACC,IAAG,KAAMN,WAAW,CACzE,CACF,CAAC;MACDvB,WAAW,CAAC,CAAC;IACf,CAAC;IAED,MAAM8B,WAAU,GAAIA,CAAA,KAAM;MACxB/B,eAAe,CAACG,KAAI,GAAIX,KAAK,CAACC,OAAO;MACrCQ,WAAW,CAAC,CAAC;IACf,CAAC;IAEDf,KAAK,CAAC,MAAMM,KAAK,CAACC,OAAO,EAAE,MAAM;MAC/BO,eAAe,CAACG,KAAI,GAAIX,KAAK,CAACC,OAAO;MACrCQ,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IAEFd,SAAS,CAAC,MAAM;MACdc,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IAEFb,eAAe,CAAC,MAAM;MACpB,IAAIW,OAAO,CAACI,KAAK,EAAE;QACjBJ,OAAO,CAACI,KAAK,CAACE,OAAO,CAAC,CAAC;MACzB;IACF,CAAC,CAAC;IAEF,OAAO;MACLP,QAAQ;MACRuB,cAAc;MACdE,eAAe;MACfQ;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}