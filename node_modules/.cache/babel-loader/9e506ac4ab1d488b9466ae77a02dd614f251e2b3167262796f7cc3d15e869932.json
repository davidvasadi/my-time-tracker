{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { ref, watch, onMounted } from 'vue';\nimport Chart from 'chart.js/auto';\nexport default {\n  props: {\n    entries: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const totalEntries = ref(0);\n    const entriesChart = ref(null); // A canvas ref\n\n    const createChart = () => {\n      const ctx = entriesChart.value.getContext('2d');\n      if (ctx) {\n        new Chart(ctx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(props.entries),\n            // Felhasználónevek\n            datasets: [{\n              label: 'Bejegyzések száma',\n              data: Object.values(props.entries).map(userEntries => userEntries.length),\n              // Bejegyzések száma felhasználónként\n              backgroundColor: 'rgba(75, 192, 192, 0.5)',\n              borderColor: 'rgba(75, 192, 192, 1)',\n              borderWidth: 1\n            }]\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true\n              }\n            }\n          }\n        });\n      }\n    };\n    watch(() => props.entries, newEntries => {\n      totalEntries.value = Object.values(newEntries).flat().length; // Frissítjük az összes bejegyzést\n      createChart(); // Frissítjük a diagramot\n    }, {\n      immediate: true\n    });\n\n    // Ellenőrizzük, hogy a canvas már elérhető-e\n    onMounted(() => {\n      createChart();\n    });\n    return {\n      totalEntries,\n      entriesChart\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","onMounted","Chart","props","entries","type","Object","required","setup","totalEntries","entriesChart","createChart","ctx","value","getContext","data","labels","keys","datasets","label","values","map","userEntries","length","backgroundColor","borderColor","borderWidth","options","responsive","scales","y","beginAtZero","newEntries","flat","immediate"],"sources":["/Users/vasadidavid/Desktop/motibro/my-time-tracker/src/components/MyStatistics.vue"],"sourcesContent":["<template>\n  <div class=\"mt-6\">\n    <h2 class=\"text-xl font-semibold\">Statisztikák</h2>\n    <div v-if=\"totalEntries > 0\">\n      <p>Összes bejegyzés: {{ totalEntries }}</p>\n      <canvas ref=\"entriesChart\"></canvas>\n    </div>\n    <div v-else>\n      <p>Nincsenek bejegyzések a statisztikákhoz.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, onMounted } from 'vue';\nimport Chart from 'chart.js/auto';\n\nexport default {\n  props: {\n    entries: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const totalEntries = ref(0);\n    const entriesChart = ref(null); // A canvas ref\n\n    const createChart = () => {\n      const ctx = entriesChart.value.getContext('2d');\n      if (ctx) {\n        new Chart(ctx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(props.entries), // Felhasználónevek\n            datasets: [{\n              label: 'Bejegyzések száma',\n              data: Object.values(props.entries).map(userEntries => userEntries.length), // Bejegyzések száma felhasználónként\n              backgroundColor: 'rgba(75, 192, 192, 0.5)',\n              borderColor: 'rgba(75, 192, 192, 1)',\n              borderWidth: 1,\n            }],\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true,\n              },\n            },\n          },\n        });\n      }\n    };\n\n    watch(() => props.entries, (newEntries) => {\n      totalEntries.value = Object.values(newEntries).flat().length; // Frissítjük az összes bejegyzést\n      createChart(); // Frissítjük a diagramot\n    }, { immediate: true });\n\n    // Ellenőrizzük, hogy a canvas már elérhető-e\n    onMounted(() => {\n      createChart();\n    });\n\n    return {\n      totalEntries,\n      entriesChart,\n    };\n  },\n};\n</script>\n\n<style scoped>\ncanvas {\n  max-width: 600px;\n  margin: auto;\n}\n</style>\n"],"mappings":";AAcA,SAASA,GAAG,EAAEC,KAAK,EAAEC,SAAQ,QAAS,KAAK;AAC3C,OAAOC,KAAI,MAAO,eAAe;AAEjC,eAAe;EACbC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,MAAMM,YAAW,GAAIV,GAAG,CAAC,CAAC,CAAC;IAC3B,MAAMW,YAAW,GAAIX,GAAG,CAAC,IAAI,CAAC,EAAE;;IAEhC,MAAMY,WAAU,GAAIA,CAAA,KAAM;MACxB,MAAMC,GAAE,GAAIF,YAAY,CAACG,KAAK,CAACC,UAAU,CAAC,IAAI,CAAC;MAC/C,IAAIF,GAAG,EAAE;QACP,IAAIV,KAAK,CAACU,GAAG,EAAE;UACbP,IAAI,EAAE,KAAK;UACXU,IAAI,EAAE;YACJC,MAAM,EAAEV,MAAM,CAACW,IAAI,CAACd,KAAK,CAACC,OAAO,CAAC;YAAE;YACpCc,QAAQ,EAAE,CAAC;cACTC,KAAK,EAAE,mBAAmB;cAC1BJ,IAAI,EAAET,MAAM,CAACc,MAAM,CAACjB,KAAK,CAACC,OAAO,CAAC,CAACiB,GAAG,CAACC,WAAU,IAAKA,WAAW,CAACC,MAAM,CAAC;cAAE;cAC3EC,eAAe,EAAE,yBAAyB;cAC1CC,WAAW,EAAE,uBAAuB;cACpCC,WAAW,EAAE;YACf,CAAC;UACH,CAAC;UACDC,OAAO,EAAE;YACPC,UAAU,EAAE,IAAI;YAChBC,MAAM,EAAE;cACNC,CAAC,EAAE;gBACDC,WAAW,EAAE;cACf;YACF;UACF;QACF,CAAC,CAAC;MACJ;IACF,CAAC;IAED/B,KAAK,CAAC,MAAMG,KAAK,CAACC,OAAO,EAAG4B,UAAU,IAAK;MACzCvB,YAAY,CAACI,KAAI,GAAIP,MAAM,CAACc,MAAM,CAACY,UAAU,CAAC,CAACC,IAAI,CAAC,CAAC,CAACV,MAAM,EAAE;MAC9DZ,WAAW,CAAC,CAAC,EAAE;IACjB,CAAC,EAAE;MAAEuB,SAAS,EAAE;IAAK,CAAC,CAAC;;IAEvB;IACAjC,SAAS,CAAC,MAAM;MACdU,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IAEF,OAAO;MACLF,YAAY;MACZC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}