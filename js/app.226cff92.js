(function(){"use strict";var e={6139:function(e,t,r){var s=r(5130),i=r(6768),n=r(4232);const a={class:"bg-zinc-50"},o={class:"max-w-4xl mx-auto p-6 bg-zinc-50"},l={class:"flex items-center justify-between"},d={class:"mt-6 mb-4"},u={class:"mt-6 mb-4"},m={class:"mt-6"},c={key:0,class:"mt-4"},k={key:0},p={key:1},b=["onClick"],f=["onClick"],y={class:"fixed top-0 right-0 p-4"},g=["onClick"];function h(e,t,r,h,v,L){const x=(0,i.g2)("TimeEntryForm"),E=(0,i.g2)("MyStatistics");return(0,i.uX)(),(0,i.CE)("div",a,[(0,i.Lk)("div",o,[t[15]||(t[15]=(0,i.Lk)("h1",{class:"text-2xl font-bold mb-6 flex justify-center"},"Időnyilvántartó rendszer",-1)),(0,i.bF)(x,{onSubmit:L.handleFormSubmit,ref:"entryForm",isEdit:v.isEdit,entry:v.currentEntry},null,8,["onSubmit","isEdit","entry"]),(0,i.Lk)("div",l,[(0,i.Lk)("div",d,[t[3]||(t[3]=(0,i.Lk)("label",{for:"viewType",class:"mr-2"},"Nézet:",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>v.viewType=e),id:"viewType",class:"p-2 border border-gray-300 rounded"},t[2]||(t[2]=[(0,i.Lk)("option",{value:"daily"},"Napi",-1),(0,i.Lk)("option",{value:"weekly"},"Heti",-1),(0,i.Lk)("option",{value:"monthly"},"Havi",-1)]),512),[[s.u1,v.viewType]])]),(0,i.Lk)("div",u,[t[5]||(t[5]=(0,i.Lk)("label",{for:"tagFilter",class:"mr-2"},"Szűrés címkére:",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.tagFilter=e),id:"tagFilter",class:"p-2 border border-gray-300 rounded"},t[4]||(t[4]=[(0,i.Lk)("option",{value:""},"Összes",-1),(0,i.Lk)("option",{value:"projekt"},"Projekt",-1),(0,i.Lk)("option",{value:"ügyfél"},"Ügyfél",-1)]),512),[[s.u1,v.tagFilter]])])]),(0,i.Lk)("div",m,[t[14]||(t[14]=(0,i.Lk)("h2",{class:"text-xl font-semibold"},"Bejegyzések",-1)),0===Object.keys(L.filteredEntries).length?((0,i.uX)(),(0,i.CE)("div",c,t[6]||(t[6]=[(0,i.Lk)("p",null,"Nincsenek bejegyzések.",-1)]))):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(L.filteredEntries,((e,r)=>((0,i.uX)(),(0,i.CE)("div",{key:r,class:"mb-4 bg-white rounded-2xl"},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"border p-4 mt-2 rounded"},[(0,i.Lk)("p",null,[t[7]||(t[7]=(0,i.Lk)("strong",null,"Munkavállaló neve:",-1)),(0,i.eW)(" "+(0,n.v_)(e.userName),1)]),(0,i.Lk)("p",null,[t[8]||(t[8]=(0,i.Lk)("strong",null,"Dátum:",-1)),(0,i.eW)(" "+(0,n.v_)(e.date),1)]),(0,i.Lk)("p",null,[t[9]||(t[9]=(0,i.Lk)("strong",null,"Kezdési idő:",-1)),(0,i.eW)(" "+(0,n.v_)(e.startTime),1)]),(0,i.Lk)("p",null,[t[10]||(t[10]=(0,i.Lk)("strong",null,"Befejezési idő:",-1)),(0,i.eW)(" "+(0,n.v_)(e.endTime),1)]),(0,i.Lk)("p",null,[t[11]||(t[11]=(0,i.Lk)("strong",null,"Feladat leírása:",-1)),(0,i.eW)(" "+(0,n.v_)(e.taskDescription),1)]),(0,i.Lk)("p",null,[t[12]||(t[12]=(0,i.Lk)("strong",null,"Címkék:",-1)),t[13]||(t[13]=(0,i.eW)()),e.tags.length?((0,i.uX)(),(0,i.CE)("span",k,(0,n.v_)(e.tags),1)):((0,i.uX)(),(0,i.CE)("span",p,"Nincsenek címkék."))]),(0,i.Lk)("button",{onClick:t=>L.editEntry(e,r,s),class:"mt-2 bg-yellow-500 hover:bg-yellow-700 text-white p-2 rounded"},"Módosítás",8,b),(0,i.Lk)("button",{onClick:e=>L.deleteEntry(r,s),class:"mt-2 mx-2 bg-red-500 hover:bg-red-700 text-white p-2 rounded"},"Törlés",8,f)])))),128))])))),128))]),L.filteredEntries&&Object.keys(L.filteredEntries).length?((0,i.uX)(),(0,i.Wv)(E,{key:0,entries:L.filteredEntries},null,8,["entries"])):(0,i.Q3)("",!0),(0,i.Lk)("div",y,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(v.toasts,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,n.C4)(["toast",e.type])},[(0,i.eW)((0,n.v_)(e.message)+" ",1),(0,i.Lk)("button",{onClick:e=>L.removeToast(t),class:"ml-2 bg-transparent border-0 cursor-pointer"},"X",8,g)],2)))),128))])])])}r(4114),r(8992),r(4520);const v={class:"p-6 bg-white rounded shadow"},L={class:"text-lg font-semibold mb-4"},x={class:"mb-4"},E={class:"mb-4"},w={class:"flex flex-wrap gap-6"},T={class:"mb-4 flex-1"},D={class:"mb-4 flex-1"},j={class:"mb-4"},C={class:"mb-4"},z={type:"submit",class:"mt-2 bg-blue-500 hover:bg-blue-700 text-white p-2 rounded"};function F(e,t,r,a,o,l){return(0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("h2",L,(0,n.v_)(r.isEdit?"Módosítsd a bejegyzést":"Új munkaidő bejegyzés"),1),(0,i.Lk)("form",{onSubmit:t[6]||(t[6]=(0,s.D$)(((...e)=>l.handleSubmit&&l.handleSubmit(...e)),["prevent"]))},[(0,i.Lk)("div",x,[t[7]||(t[7]=(0,i.Lk)("label",{for:"userName",class:"block text-sm font-medium text-gray-700"},"Munkavállaló neve",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.userName=e),type:"text",id:"userName",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded"},null,512),[[s.Jo,o.formData.userName]])]),(0,i.Lk)("div",E,[t[8]||(t[8]=(0,i.Lk)("label",{for:"date",class:"block text-sm font-medium text-gray-700"},"Dátum",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.date=e),type:"date",id:"date",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded"},null,512),[[s.Jo,o.formData.date]])]),(0,i.Lk)("div",w,[(0,i.Lk)("div",T,[t[9]||(t[9]=(0,i.Lk)("label",{for:"startTime",class:"block text-sm font-medium text-gray-700"},"Kezdési idő",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.startTime=e),type:"time",id:"startTime",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded"},null,512),[[s.Jo,o.formData.startTime]])]),(0,i.Lk)("div",D,[t[10]||(t[10]=(0,i.Lk)("label",{for:"endTime",class:"block text-sm font-medium text-gray-700"},"Befejezési idő",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.endTime=e),type:"time",id:"endTime",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded"},null,512),[[s.Jo,o.formData.endTime]])])]),(0,i.Lk)("div",j,[t[11]||(t[11]=(0,i.Lk)("label",{for:"taskDescription",class:"block text-sm font-medium text-gray-700"},"Feladat leírása",-1)),(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.taskDescription=e),id:"taskDescription",rows:"3",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded"},null,512),[[s.Jo,o.formData.taskDescription]])]),(0,i.Lk)("div",C,[t[13]||(t[13]=(0,i.Lk)("label",{for:"tags",class:"block text-sm font-medium text-gray-700"},"Címkék",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.formData.tags=e),id:"tags",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded"},t[12]||(t[12]=[(0,i.Lk)("option",{disabled:"",value:""},"Válassz egy címkét",-1),(0,i.Lk)("option",{value:"projekt"},"Projekt",-1),(0,i.Lk)("option",{value:"ügyfél"},"Ügyfél",-1)]),512),[[s.u1,o.formData.tags]])]),(0,i.Lk)("button",z,(0,n.v_)(r.isEdit?"Módosítás":"Hozzáadás"),1)],32)])}var O={props:{entry:{type:Object,default:()=>({userName:"",date:"",startTime:"",endTime:"",taskDescription:"",tags:""})},isEdit:{type:Boolean,default:!1}},data(){return{formData:{userName:this.entry.userName||"",date:this.entry.date||"",startTime:this.entry.startTime||"",endTime:this.entry.endTime||"",taskDescription:this.entry.taskDescription||"",tags:this.entry.tags||""}}},watch:{entry:{handler(e){this.formData={...e}},deep:!0,immediate:!0},isEdit(e){e||this.resetForm()}},methods:{handleSubmit(){this.$emit("submit",{...this.formData}),this.resetForm(),this.$emit("notify","Sikeresen mentve!")},resetForm(){this.formData={userName:"",date:"",startTime:"",endTime:"",taskDescription:"",tags:""}}}},S=r(1241);const N=(0,S.A)(O,[["render",F]]);var X=N;const _={class:"mt-6 max-w-4xl mx-auto"},I={key:0},M={class:"relative w-full"},A={ref:"entriesChart"},U={key:1};function V(e,t,r,s,a,o){return(0,i.uX)(),(0,i.CE)("div",_,[t[1]||(t[1]=(0,i.Lk)("h2",{class:"text-xl font-semibold mb-2"},"Statisztikák",-1)),s.totalEntries>0?((0,i.uX)(),(0,i.CE)("div",I,[(0,i.Lk)("p",null,"Összes bejegyzés: "+(0,n.v_)(s.totalEntries),1),(0,i.Lk)("div",M,[(0,i.Lk)("canvas",A,null,512)])])):((0,i.uX)(),(0,i.CE)("div",U,t[0]||(t[0]=[(0,i.Lk)("p",null,"Nincsenek bejegyzések a statisztikákhoz.",-1)])))])}r(670),r(1454);var B=r(144),W=r(3456),J={props:{entries:{type:Object,required:!0}},setup(e){const t=(0,B.KR)(0),r=(0,B.KR)(null);let s=null;const n=()=>{if(s&&s.destroy(),!r.value)return;const t=r.value.getContext("2d");if(t){const r=Object.entries(e.entries).filter((([e,t])=>void 0!==e&&null!==e&&""!==e&&Array.isArray(t)&&t.length>0)),i=r.map((([e])=>e)),n=r.map((([,e])=>e.length));s=new W.Ay(t,{type:"bar",data:{labels:i,datasets:[{label:"Bejegyzések száma",data:n,backgroundColor:"rgb(234 179 8)",borderColor:"rgb(234 179 8)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})}};return(0,i.wB)((()=>e.entries),(e=>{t.value=Object.entries(e).filter((([e,t])=>void 0!==e&&null!==e&&""!==e&&Array.isArray(t)&&t.length>0)).flatMap((([,e])=>e)).length,n()}),{immediate:!0}),(0,i.sV)((()=>{n()})),(0,i.xo)((()=>{s&&s.destroy()})),{totalEntries:t,entriesChart:r}}};const q=(0,S.A)(J,[["render",V]]);var K=q,$={components:{TimeEntryForm:X,MyStatistics:K},data(){return{entries:JSON.parse(localStorage.getItem("entries"))||{},viewType:"daily",tagFilter:"",toasts:[],isEdit:!1,currentEntry:{},currentUserName:"",currentEntryIndex:null}},computed:{filteredEntries(){const e={},t=new Date,r=t.toISOString().split("T")[0],s=new Date(t);s.setDate(t.getDate()-t.getDay());const i=new Date(s);i.setDate(s.getDate()+6);for(const n in this.entries){const a=this.entries[n];e[n]=a.filter((e=>{const n=new Date(e.date),a="daily"===this.viewType&&e.date===r||"weekly"===this.viewType&&n>=s&&n<=i||"monthly"===this.viewType&&n.getMonth()===t.getMonth(),o=!this.tagFilter||e.tags===this.tagFilter;return a&&o}))}return e}},methods:{handleFormSubmit(e){const t=e.userName;this.isEdit?(this.entries[t][this.currentEntryIndex]=e,this.isEdit=!1,this.addToast("Bejegyzés sikeresen módosítva!","success")):(this.entries[t]||(this.entries[t]=[]),this.entries[t].push(e),this.addToast("Bejegyzés sikeresen mentve!","success")),localStorage.setItem("entries",JSON.stringify(this.entries)),this.$refs.entryForm.resetForm()},editEntry(e,t,r){this.currentEntry={...e},this.isEdit=!0,this.currentUserName=t,this.currentEntryIndex=r,this.$refs.entryForm.formData={...e},this.scrollToTop()},deleteEntry(e,t){this.entries[e].splice(t,1),0===this.entries[e].length&&delete this.entries[e],localStorage.setItem("entries",JSON.stringify(this.entries)),this.addToast("Bejegyzés törölve!","error")},scrollToTop(){window.scrollTo(0,0)},addToast(e,t){this.toasts.push({message:e,type:t}),setTimeout((()=>{this.removeToast(this.toasts.length-1)}),3e3)},removeToast(e){this.toasts.splice(e,1)}}};const P=(0,S.A)($,[["render",h]]);var H=P;(0,s.Ef)(H).mount("#app")}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,s,i,n){if(!s){var a=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],n=e[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||a>=n)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(o=!1,n<a&&(a=n));if(o){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,i,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,a=s[0],o=s[1],l=s[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)var u=l(r)}for(t&&t(s);d<a.length;d++)n=a[d],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},s=self["webpackChunkmy_time_tracker"]=self["webpackChunkmy_time_tracker"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[504],(function(){return r(6139)}));s=r.O(s)})();
//# sourceMappingURL=app.226cff92.js.map